---
tosca_definitions_version: tosca_simple_yaml_1_3

description: Privileged container for sensing and actuation

node_types:
  fog.nodes.PrivilegedContainer:
    derived_from: tosca.nodes.SoftwareComponent

    properties:
      container_name:
        type: string
        description: Docker service name.
      image_name:
        type: string
        description: Docker image name with tag.
      privileged_nodes:
        type: list
        description: List of IP address of sensor and actuator nodes.
        default: []
    
    interfaces:
      Standard:
        type: tosca.interfaces.node.lifecycle.Standard
        inputs:
          privileged_nodes: { value: { get_property: [ SELF, privileged_nodes ] }, type: list }
          image_name: { value: { get_property: [ SELF, image_name ] }, type: string }
          container_name: { value: { get_property: [ SELF, container_name ] }, type: string }
        operations:
          create: playbooks/create.yaml
          delete: playbooks/delete.yaml
...